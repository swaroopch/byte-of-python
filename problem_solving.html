
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Problem Solving Â· A Byte of Python</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="oop.html" />
    
    
    <link rel="prev" href="data_structures.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="dedication.html">
            
                <a href="dedication.html">
            
                    
                    Dedication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="preface.html">
            
                <a href="preface.html">
            
                    
                    Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="about_python.html">
            
                <a href="about_python.html">
            
                    
                    About Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="first_steps.html">
            
                <a href="first_steps.html">
            
                    
                    First Steps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="basics.html">
            
                <a href="basics.html">
            
                    
                    Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="op_exp.html">
            
                <a href="op_exp.html">
            
                    
                    Operators and Expressions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="control_flow.html">
            
                <a href="control_flow.html">
            
                    
                    Control flow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="modules.html">
            
                <a href="modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="data_structures.html">
            
                <a href="data_structures.html">
            
                    
                    Data Structures
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.13" data-path="problem_solving.html">
            
                <a href="problem_solving.html">
            
                    
                    Problem Solving
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="oop.html">
            
                <a href="oop.html">
            
                    
                    Object Oriented Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="io.html">
            
                <a href="io.html">
            
                    
                    Input and Output
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="exceptions.html">
            
                <a href="exceptions.html">
            
                    
                    Exceptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="stdlib.html">
            
                <a href="stdlib.html">
            
                    
                    Standard Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="more.html">
            
                <a href="more.html">
            
                    
                    More
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="what_next.html">
            
                <a href="what_next.html">
            
                    
                    What Next
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="floss.html">
            
                <a href="floss.html">
            
                    
                    Appendix: FLOSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="about.html">
            
                <a href="about.html">
            
                    
                    Appendix: About
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="revision_history.html">
            
                <a href="revision_history.html">
            
                    
                    Appendix: Revision History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="translations.html">
            
                <a href="translations.html">
            
                    
                    Appendix: Translations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="translation_howto.html">
            
                <a href="translation_howto.html">
            
                    
                    Appendix: Translation How-to
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25" data-path="feedback.html">
            
                <a href="feedback.html">
            
                    
                    Feedback
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Problem Solving</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="problem-solving">Problem Solving</h1>
<p>We have explored various parts of the Python language and now we will take a look at how all these parts fit together, by designing and writing a program which <em>does</em> something useful. The idea is to learn how to write a Python script on your own.</p>
<h2 id="the-problem">The Problem</h2>
<p>The problem we want to solve is:</p>
<blockquote>
<p>I want a program which creates a backup of all my important files.</p>
</blockquote>
<p>Although, this is a simple problem, there is not enough information for us to get started with the solution. A little more <em>analysis</em> is required. For example, how do we specify <em>which</em> files are to be backed up? <em>How</em> are they stored? <em>Where</em> are they stored?</p>
<p>After analyzing the problem properly, we <em>design</em> our program. We make a list of things about how our program should work. In this case, I have created the following list on how <em>I</em> want it to work. If you do the design, you may not come up with the same kind of analysis since every person has their own way of doing things, so that is perfectly okay.</p>
<ul>
<li>The files and directories to be backed up are specified in a list.</li>
<li>The backup must be stored in a main backup directory.</li>
<li>The files are backed up into a zip file.</li>
<li>The name of the zip archive is the current date and time.</li>
<li>We use the standard <code>zip</code> command available by default in any standard GNU/Linux or Unix distribution. Note that you can use any archiving command you want as long as it has a command line interface.</li>
</ul>
<blockquote>
<p><strong>For Windows users</strong></p>
<p>Windows users can <a href="http://gnuwin32.sourceforge.net/downlinks/zip.php" target="_blank">install</a> the <code>zip</code> command from the <a href="http://gnuwin32.sourceforge.net/packages/zip.htm" target="_blank">GnuWin32 project page</a> and add <code>C:\Program Files\GnuWin32\bin</code> to your system <code>PATH</code> environment variable, similar to <a href="installation.html#dos-prompt">what we did for recognizing the python command itself</a>.</p>
</blockquote>
<h2 id="the-solution">The Solution</h2>
<p>As the design of our program is now reasonably stable, we can write the code which is an <em>implementation</em> of our solution.</p>
<p>Save as <code>backup_ver1.py</code>:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># 1. The files and directories to be backed up are</span>
<span class="hljs-comment"># specified in a list.</span>
<span class="hljs-comment"># Example on Windows:</span>
<span class="hljs-comment"># source = ['"C:\\My Documents"']</span>
<span class="hljs-comment"># Example on Mac OS X and Linux:</span>
source = [<span class="hljs-string">'/Users/swa/notes'</span>]
<span class="hljs-comment"># Notice we have to use double quotes inside a string</span>
<span class="hljs-comment"># for names with spaces in it.  We could have also used</span>
<span class="hljs-comment"># a raw string by writing [r'C:\My Documents'].</span>

<span class="hljs-comment"># 2. The backup must be stored in a</span>
<span class="hljs-comment"># main backup directory</span>
<span class="hljs-comment"># Example on Windows:</span>
<span class="hljs-comment"># target_dir = 'E:\\Backup'</span>
<span class="hljs-comment"># Example on Mac OS X and Linux:</span>
target_dir = <span class="hljs-string">'/Users/swa/backup'</span>
<span class="hljs-comment"># Remember to change this to which folder you will be using</span>

<span class="hljs-comment"># 3. The files are backed up into a zip file.</span>
<span class="hljs-comment"># 4. The name of the zip archive is the current date and time</span>
target = target_dir + os.sep + \
         time.strftime(<span class="hljs-string">'%Y%m%d%H%M%S'</span>) + <span class="hljs-string">'.zip'</span>

<span class="hljs-comment"># Create target directory if it is not present</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(target_dir):
    os.mkdir(target_dir)  <span class="hljs-comment"># make directory</span>

<span class="hljs-comment"># 5. We use the zip command to put the files in a zip archive</span>
zip_command = <span class="hljs-string">'zip -r {0} {1}'</span>.<span class="hljs-built_in">format</span>(target,
                                      <span class="hljs-string">' '</span>.join(source))

<span class="hljs-comment"># Run the backup</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Zip command is:'</span>)
<span class="hljs-built_in">print</span>(zip_command)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Running:'</span>)
<span class="hljs-keyword">if</span> os.system(zip_command) == <span class="hljs-number">0</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Successful backup to'</span>, target)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Backup FAILED'</span>)
</code></pre>

<p>Output:</p>
<pre><code>$ python backup_ver1.py
Zip command is:
zip -r /Users/swa/backup/20140328084844.zip /Users/swa/notes
Running:
  adding: Users/swa/notes/ (stored 0%)
  adding: Users/swa/notes/blah1.txt (stored 0%)
  adding: Users/swa/notes/blah2.txt (stored 0%)
  adding: Users/swa/notes/blah3.txt (stored 0%)
Successful backup to /Users/swa/backup/20140328084844.zip
</code></pre>

<p>Now, we are in the <em>testing</em> phase where we test that our program works properly. If it doesn't behave as expected, then we have to <em>debug</em> our program i.e. remove the <em>bugs</em> (errors) from the program.</p>
<p>If the above program does not work for you, copy the line printed after the <code>Zip command is</code> line in the output, paste it in the shell (on GNU/Linux and Mac OS X) / <code>cmd</code> (on Windows), see what the error is and try to fix it. Also check the zip command manual on what could be wrong. If this command succeeds, then the problem might be in the Python program itself, so check if it exactly matches the program written above.</p>
<p><strong>How It Works</strong></p>
<p>You will notice how we have converted our <em>design</em> into <em>code</em> in a step-by-step manner.</p>
<p>We make use of the <code>os</code> and <code>time</code> modules by first importing them. Then, we specify the files and directories to be backed up in the <code>source</code> list. The target directory is where we store all the backup files and this is specified in the <code>target_dir</code> variable. The name of the zip archive that we are going to create is the current date and time which we generate using the <code>time.strftime()</code> function. It will also have the <code>.zip</code> extension and will be stored in the <code>target_dir</code> directory.</p>
<p>Notice the use of the <code>os.sep</code> variable - this gives the directory separator according to your operating system, i.e. it will be <code>'/'</code> in GNU/Linux, Unix, macOS, and will be <code>'\\'</code> in Windows. Using <code>os.sep</code> instead of these characters directly will make our program portable and work across all of these systems.</p>
<p>The <code>time.strftime()</code> function takes a specification such as the one we have used in the above program. The <code>%Y</code> specification will be replaced by the year with the century. The <code>%m</code> specification will be replaced by the month as a decimal number between <code>01</code> and <code>12</code> and so on. The complete list of such specifications can be found in the <a href="http://docs.python.org/3/library/time.html#time.strftime" target="_blank">Python Reference Manual</a>.</p>
<p>We create the name of the target zip file using the addition operator which <em>concatenates</em> the strings i.e. it joins the two strings together and returns a new one. Then, we create a string <code>zip_command</code> which contains the command that we are going to execute. You can check if this command works by running it in the shell (GNU/Linux terminal or DOS prompt).</p>
<p>The <code>zip</code> command that we are using has some options available, and one of these options is <code>-r</code>.  The <code>-r</code> option specifies that the zip command should work <strong>r</strong>ecursively for directories, i.e. it should include all the subdirectories and files. Options are followed by the name of the zip archive to create, followed by the list of files and directories to backup. We convert the <code>source</code> list into a string using the <code>join</code> method of strings which we have already seen how to use.</p>
<p>Then, we finally <em>run</em> the command using the <code>os.system</code> function which runs the command as if it was run from the <em>system</em> i.e. in the shell - it returns <code>0</code> if the command was successfully, else it returns an error number.</p>
<p>Depending on the outcome of the command, we print the appropriate message that the backup has failed or succeeded.</p>
<p>That's it, we have created a script to take a backup of our important files!</p>
<blockquote>
<p><strong>Note to Windows Users</strong></p>
<p>Instead of double backslash escape sequences, you can also use raw strings. For example, use <code>'C:\\Documents'</code> or <code>r'C:\Documents'</code>. However, do <em>not</em> use <code>'C:\Documents'</code> since you end up using an unknown escape sequence <code>\D</code>.</p>
</blockquote>
<p>Now that we have a working backup script, we can use it whenever we want to take a backup of the files. This is called the <em>operation</em> phase or the <em>deployment</em> phase of the software.</p>
<p>The above program works properly, but (usually) first programs do not work exactly as you expect. For example, there might be problems if you have not designed the program properly or if you have made a mistake when typing the code, etc. Appropriately, you will have to go back to the design phase or you will have to debug your program.</p>
<h2 id="second-version">Second Version</h2>
<p>The first version of our script works. However, we can make some refinements to it so that it can work better on a daily basis. This is called the <em>maintenance</em> phase of the software.</p>
<p>One of the refinements I felt was useful is a better file-naming mechanism - using the <em>time</em> as the name of the file within a directory with the current <em>date</em> as a directory within the main backup directory. The first advantage is that your backups are stored in a hierarchical manner and therefore it is much easier to manage. The second advantage is that the filenames are much shorter. The third advantage is that separate directories will help you check if you have made a backup for each day since the directory would be created only if you have made a backup for that day.</p>
<p>Save as <code>backup_ver2.py</code>:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># 1. The files and directories to be backed up are</span>
<span class="hljs-comment"># specified in a list.</span>
<span class="hljs-comment"># Example on Windows:</span>
<span class="hljs-comment"># source = ['"C:\\My Documents"', 'C:\\Code']</span>
<span class="hljs-comment"># Example on Mac OS X and Linux:</span>
source = [<span class="hljs-string">'/Users/swa/notes'</span>]
<span class="hljs-comment"># Notice we had to use double quotes inside the string</span>
<span class="hljs-comment"># for names with spaces in it.</span>

<span class="hljs-comment"># 2. The backup must be stored in a</span>
<span class="hljs-comment"># main backup directory</span>
<span class="hljs-comment"># Example on Windows:</span>
<span class="hljs-comment"># target_dir = 'E:\\Backup'</span>
<span class="hljs-comment"># Example on Mac OS X and Linux:</span>
target_dir = <span class="hljs-string">'/Users/swa/backup'</span>
<span class="hljs-comment"># Remember to change this to which folder you will be using</span>

<span class="hljs-comment"># Create target directory if it is not present</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(target_dir):
    os.mkdir(target_dir)  <span class="hljs-comment"># make directory</span>

<span class="hljs-comment"># 3. The files are backed up into a zip file.</span>
<span class="hljs-comment"># 4. The current day is the name of the subdirectory</span>
<span class="hljs-comment"># in the main directory.</span>
today = target_dir + os.sep + time.strftime(<span class="hljs-string">'%Y%m%d'</span>)
<span class="hljs-comment"># The current time is the name of the zip archive.</span>
now = time.strftime(<span class="hljs-string">'%H%M%S'</span>)

<span class="hljs-comment"># The name of the zip file</span>
target = today + os.sep + now + <span class="hljs-string">'.zip'</span>

<span class="hljs-comment"># Create the subdirectory if it isn't already there</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(today):
    os.mkdir(today)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Successfully created directory'</span>, today)

<span class="hljs-comment"># 5. We use the zip command to put the files in a zip archive</span>
zip_command = <span class="hljs-string">'zip -r {0} {1}'</span>.<span class="hljs-built_in">format</span>(target,
                                      <span class="hljs-string">' '</span>.join(source))

<span class="hljs-comment"># Run the backup</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Zip command is:'</span>)
<span class="hljs-built_in">print</span>(zip_command)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Running:'</span>)
<span class="hljs-keyword">if</span> os.system(zip_command) == <span class="hljs-number">0</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Successful backup to'</span>, target)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Backup FAILED'</span>)
</code></pre>

<p>Output:</p>
<pre><code>$ python backup_ver2.py
Successfully created directory /Users/swa/backup/20140329
Zip command is:
zip -r /Users/swa/backup/20140329/073201.zip /Users/swa/notes
Running:
  adding: Users/swa/notes/ (stored 0%)
  adding: Users/swa/notes/blah1.txt (stored 0%)
  adding: Users/swa/notes/blah2.txt (stored 0%)
  adding: Users/swa/notes/blah3.txt (stored 0%)
Successful backup to /Users/swa/backup/20140329/073201.zip
</code></pre>

<p><strong>How It Works</strong></p>
<p>Most of the program remains the same. The changes are that we check if there is a directory with the current day as its name inside the main backup directory using the <code>os.path.exists</code> function. If it doesn't exist, we create it using the <code>os.mkdir</code> function.</p>
<h2 id="third-version">Third Version</h2>
<p>The second version works fine when I do many backups, but when there are lots of backups, I am finding it hard to differentiate what the backups were for! For example, I might have made some major changes to a program or presentation, then I want to associate what those changes are with the name of the zip archive. This can be easily achieved by attaching a user-supplied comment to the name of the zip archive.</p>
<p>WARNING: The following program does not work, so do not be alarmed, please follow along because there's a lesson in here.</p>
<p>Save as <code>backup_ver3.py</code>:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># 1. The files and directories to be backed up are</span>
<span class="hljs-comment"># specified in a list.</span>
<span class="hljs-comment"># Example on Windows:</span>
<span class="hljs-comment"># source = ['"C:\\My Documents"', 'C:\\Code']</span>
<span class="hljs-comment"># Example on Mac OS X and Linux:</span>
source = [<span class="hljs-string">'/Users/swa/notes'</span>]
<span class="hljs-comment"># Notice we had to use double quotes inside the string</span>
<span class="hljs-comment"># for names with spaces in it.</span>

<span class="hljs-comment"># 2. The backup must be stored in a</span>
<span class="hljs-comment"># main backup directory</span>
<span class="hljs-comment"># Example on Windows:</span>
<span class="hljs-comment"># target_dir = 'E:\\Backup'</span>
<span class="hljs-comment"># Example on Mac OS X and Linux:</span>
target_dir = <span class="hljs-string">'/Users/swa/backup'</span>
<span class="hljs-comment"># Remember to change this to which folder you will be using</span>

<span class="hljs-comment"># Create target directory if it is not present</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(target_dir):
    os.mkdir(target_dir)  <span class="hljs-comment"># make directory</span>

<span class="hljs-comment"># 3. The files are backed up into a zip file.</span>
<span class="hljs-comment"># 4. The current day is the name of the subdirectory</span>
<span class="hljs-comment"># in the main directory.</span>
today = target_dir + os.sep + time.strftime(<span class="hljs-string">'%Y%m%d'</span>)
<span class="hljs-comment"># The current time is the name of the zip archive.</span>
now = time.strftime(<span class="hljs-string">'%H%M%S'</span>)

<span class="hljs-comment"># Take a comment from the user to</span>
<span class="hljs-comment"># create the name of the zip file</span>
comment = <span class="hljs-built_in">input</span>(<span class="hljs-string">'Enter a comment --&gt; '</span>)
<span class="hljs-comment"># Check if a comment was entered</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(comment) == <span class="hljs-number">0</span>:
    target = today + os.sep + now + <span class="hljs-string">'.zip'</span>
<span class="hljs-keyword">else</span>:
    target = today + os.sep + now + <span class="hljs-string">'_'</span> + 
        comment.replace(<span class="hljs-string">' '</span>, <span class="hljs-string">'_'</span>) + <span class="hljs-string">'.zip'</span>

<span class="hljs-comment"># Create the subdirectory if it isn't already there</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(today):
    os.mkdir(today)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Successfully created directory'</span>, today)

<span class="hljs-comment"># 5. We use the zip command to put the files in a zip archive</span>
zip_command = <span class="hljs-string">"zip -r {0} {1}"</span>.<span class="hljs-built_in">format</span>(target,
                                      <span class="hljs-string">' '</span>.join(source))

<span class="hljs-comment"># Run the backup</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Zip command is:'</span>)
<span class="hljs-built_in">print</span>(zip_command)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Running:'</span>)
<span class="hljs-keyword">if</span> os.system(zip_command) == <span class="hljs-number">0</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Successful backup to'</span>, target)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Backup FAILED'</span>)
</code></pre>

<p>Output:</p>
<pre><code>$ python backup_ver3.py
  File "backup_ver3.py", line 39
    target = today + os.sep + now + '_' +
                                        ^
SyntaxError: invalid syntax
</code></pre>

<p><strong>How This (does not) Work</strong></p>
<p><em>This program does not work!</em> Python says there is a syntax error which means that the script does not satisfy the structure that Python expects to see. When we observe the error given by Python, it also tells us the place where it detected the error as well. So we start <em>debugging</em> our program from that line.</p>
<p>On careful observation, we see that the single logical line has been split into two physical lines but we have not specified that these two physical lines belong together. Basically, Python has found the addition operator (<code>+</code>) without any operand in that logical line and hence it doesn't know how to continue. Remember that we can specify that the logical line continues in the next physical line by the use of a backslash at the end of the physical line. So, we make this correction to our program. This correction of the program when we find errors is called <em>bug fixing</em>.</p>
<h2 id="fourth-version">Fourth Version</h2>
<p>Save as <code>backup_ver4.py</code>:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># 1. The files and directories to be backed up are</span>
<span class="hljs-comment"># specified in a list.</span>
<span class="hljs-comment"># Example on Windows:</span>
<span class="hljs-comment"># source = ['"C:\\My Documents"', 'C:\\Code']</span>
<span class="hljs-comment"># Example on Mac OS X and Linux:</span>
source = [<span class="hljs-string">'/Users/swa/notes'</span>]
<span class="hljs-comment"># Notice we had to use double quotes inside the string</span>
<span class="hljs-comment"># for names with spaces in it.</span>

<span class="hljs-comment"># 2. The backup must be stored in a</span>
<span class="hljs-comment"># main backup directory</span>
<span class="hljs-comment"># Example on Windows:</span>
<span class="hljs-comment"># target_dir = 'E:\\Backup'</span>
<span class="hljs-comment"># Example on Mac OS X and Linux:</span>
target_dir = <span class="hljs-string">'/Users/swa/backup'</span>
<span class="hljs-comment"># Remember to change this to which folder you will be using</span>

<span class="hljs-comment"># Create target directory if it is not present</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(target_dir):
    os.mkdir(target_dir)  <span class="hljs-comment"># make directory</span>

<span class="hljs-comment"># 3. The files are backed up into a zip file.</span>
<span class="hljs-comment"># 4. The current day is the name of the subdirectory</span>
<span class="hljs-comment"># in the main directory.</span>
today = target_dir + os.sep + time.strftime(<span class="hljs-string">'%Y%m%d'</span>)
<span class="hljs-comment"># The current time is the name of the zip archive.</span>
now = time.strftime(<span class="hljs-string">'%H%M%S'</span>)

<span class="hljs-comment"># Take a comment from the user to</span>
<span class="hljs-comment"># create the name of the zip file</span>
comment = <span class="hljs-built_in">input</span>(<span class="hljs-string">'Enter a comment --&gt; '</span>)
<span class="hljs-comment"># Check if a comment was entered</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(comment) == <span class="hljs-number">0</span>:
    target = today + os.sep + now + <span class="hljs-string">'.zip'</span>
<span class="hljs-keyword">else</span>:
    target = today + os.sep + now + <span class="hljs-string">'_'</span> + \
        comment.replace(<span class="hljs-string">' '</span>, <span class="hljs-string">'_'</span>) + <span class="hljs-string">'.zip'</span>

<span class="hljs-comment"># Create the subdirectory if it isn't already there</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(today):
    os.mkdir(today)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Successfully created directory'</span>, today)

<span class="hljs-comment"># 5. We use the zip command to put the files in a zip archive</span>
zip_command = <span class="hljs-string">'zip -r {0} {1}'</span>.<span class="hljs-built_in">format</span>(target,
                                      <span class="hljs-string">' '</span>.join(source))

<span class="hljs-comment"># Run the backup</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Zip command is:'</span>)
<span class="hljs-built_in">print</span>(zip_command)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'Running:'</span>)
<span class="hljs-keyword">if</span> os.system(zip_command) == <span class="hljs-number">0</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Successful backup to'</span>, target)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Backup FAILED'</span>)
</code></pre>

<p>Output:</p>
<pre><code>$ python backup_ver4.py
Enter a comment --&gt; added new examples
Zip command is:
zip -r /Users/swa/backup/20140329/074122_added_new_examples.zip /Users/swa/notes
Running:
  adding: Users/swa/notes/ (stored 0%)
  adding: Users/swa/notes/blah1.txt (stored 0%)
  adding: Users/swa/notes/blah2.txt (stored 0%)
  adding: Users/swa/notes/blah3.txt (stored 0%)
Successful backup to /Users/swa/backup/20140329/074122_added_new_examples.zip
</code></pre>

<p><strong>How It Works</strong></p>
<p>This program now works! Let us go through the actual enhancements that we had made in version 3. We take in the user's comments using the <code>input</code> function and then check if the user actually entered something by finding out the length of the input using the <code>len</code> function. If the user has just pressed <code>enter</code> without entering anything (maybe it was just a routine backup or no special changes were made), then we proceed as we have done before.</p>
<p>However, if a comment was supplied, then this is attached to the name of the zip archive just before the <code>.zip</code> extension.  Notice that we are replacing spaces in the comment with underscores - this is because managing filenames without spaces is much easier.</p>
<h2 id="more-refinements">More Refinements</h2>
<p>The fourth version is a satisfactorily working script for most users, but there is always room for improvement. For example, you can include a <em>verbosity</em> level for the zip command by specifying a <code>-v</code> option to make your program become more talkative or a <code>-q</code> option to make it <em>quiet</em>.</p>
<p>Another possible enhancement would be to allow extra files and directories to be passed to the script at the command line. We can get these names from the <code>sys.argv</code> list and we can add them to our <code>source</code> list using the <code>extend</code> method provided by the <code>list</code> class.</p>
<p>The most important refinement would be to not use the <code>os.system</code> way of creating archives and instead using the <a href="http://docs.python.org/3/library/zipfile.html" target="_blank">zipfile</a> or <a href="http://docs.python.org/3/library/tarfile.html" target="_blank">tarfile</a> built-in modules to create these archives. They are part of the standard library and available already for you to use without external dependencies on the zip program to be available on your computer.</p>
<p>However, I have been using the <code>os.system</code> way of creating a backup in the above examples purely for pedagogical purposes, so that the example is simple enough to be understood by everybody but real enough to be useful.</p>
<p>Can you try writing the fifth version that uses the <a href="http://docs.python.org/3/library/zipfile.html" target="_blank">zipfile</a> module instead of the <code>os.system</code> call?</p>
<h2 id="the-software-development-process">The Software Development Process</h2>
<p>We have now gone through the various <em>phases</em> in the process of writing a software. These phases can be summarised as follows:</p>
<ol>
<li>What (Analysis)</li>
<li>How (Design)</li>
<li>Do It (Implementation)</li>
<li>Test (Testing and Debugging)</li>
<li>Use (Operation or Deployment)</li>
<li>Maintain (Refinement)</li>
</ol>
<p>A recommended way of writing programs is the procedure we have followed in creating the backup script: Do the analysis and design. Start implementing with a simple version. Test and debug it. Use it to ensure that it works as expected. Now, add any features that you want and continue to repeat the Do It-Test-Use cycle as many times as required.</p>
<p>Remember:</p>
<blockquote>
<p>Software is grown, not built.
-- <a href="http://97things.oreilly.com/wiki/index.php/Great_software_is_not_built,_it_is_grown" target="_blank">Bill de hÃra</a></p>
</blockquote>
<h2 id="summary">Summary</h2>
<p>We have seen how to create our own Python programs/scripts and the various stages involved in writing such programs. You may find it useful to create your own program just like we did in this chapter so that you become comfortable with Python as well as problem-solving.</p>
<p>Next, we will discuss object-oriented programming.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="data_structures.html" class="navigation navigation-prev " aria-label="Previous page: Data Structures">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="oop.html" class="navigation navigation-next " aria-label="Next page: Object Oriented Programming">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Problem Solving","level":"1.13","depth":1,"next":{"title":"Object Oriented Programming","level":"1.14","depth":1,"path":"oop.md","ref":"oop.md","articles":[]},"previous":{"title":"Data Structures","level":"1.12","depth":1,"path":"data_structures.md","ref":"data_structures.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"authorUrl":"https://swaroopch.com/about/","buyBookUrl":"https://swaroopch.com/buybook/","contactUrl":"https://swaroopch.com/contact/","downloadUrl":"https://github.com/swaroopch/byte-of-python/releases/latest","officialUrl":"https://python.swaroopch.com","pythonVersion":"3.6.0","sourceUrl":"https://github.com/swaroopch/byte-of-python","vimBookUrl":"https://vim.swaroopch.com/"},"title":"A Byte of Python","gitbook":"*"},"file":{"path":"problem_solving.md","mtime":"2025-08-17T16:14:54.594Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-08-17T16:15:06.963Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

